<!DOCTYPE html>
<html
  class=""
  lang="en-us"
  prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb#"
>
  <head>
    <meta charset="utf-8" />

    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="description" content="" />
<meta name="HandheldFriendly" content="True" />
<meta name="MobileOptimized" content="320" />
<meta name="viewport" content="width=device-width, initial-scale=1" />


<meta name="keywords" content="">


<meta property="og:type" content="article" />
<meta property="og:description" content="" />
<meta property="og:title" content="Nextcloud: Importing Google Calendars &amp; Automating External Cals" />
<meta property="og:site_name" content="welcome!" />
<meta property="og:image" content="" />
<meta property="og:image:type" content="image/jpeg" />
<meta property="og:image:width" content="" />
<meta property="og:image:height" content="" />
<meta property="og:url" content="https://www.mehvix.com/posts/nextcloud-importing-google-calendars-automating-external-cals/" />
<meta property="og:locale" content="en-us" />
<meta property="article:published_time" content="2020-05-08
" /> <meta property="article:modified_time" content="2020-05-08
" />






    <title>Nextcloud: Importing Google Calendars &amp; Automating External Cals</title>
    <link rel="canonical" href="https://www.mehvix.com/posts/nextcloud-importing-google-calendars-automating-external-cals/" />


    <link rel="stylesheet" href="https://unpkg.com/tachyons@4.11.1/css/tachyons.min.css"/>



<link rel="stylesheet" href="https://www.mehvix.com/css/atom-one-dark-reasonable.css" />
<link rel="stylesheet"  href="https://www.mehvix.com/css/style.css"/>


  <link href="/posts/nextcloud-importing-google-calendars-automating-external-cals/" rel="alternate" type="application/rss+xml" title="welcome!" />
  <link href="/posts/nextcloud-importing-google-calendars-automating-external-cals/" rel="feed" type="application/rss+xml" title="welcome!" />

    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
    <link rel="apple-touch-icon" href="/apple-touch-icon.png" />
  </head>


<body
  lang="en-us"
  class="sans-serif w-90 w-80-m w-60-ns center mv2 mv5-ns"
  itemscope
  itemtype="http://schema.org/Article"
>
  
  <span class="b">/ </span>
  <a href="https://www.mehvix.com/" class="b bb bw1 pb1 no-underline #a9a9b3">welcome!</a>
  <span class="b"> / </span>
  <a href="/post" class="b bb bw1 pb1 no-underline #a9a9b3">posts</a>

  <section id="main" class="mt5">
    <h1 itemprop="name" id="title">Nextcloud: Importing Google Calendars &amp; Automating External Cals</h1>
     <span class="f6 gray">May 8, 2020 - 1 minute read</span> 
      <article itemprop="articleBody" id="content" class="w-90 lh-copy">
        

<p>Upgrading to Nextcloud 18 broke both importing public Google calendars and external calendars so that they don&rsquo;t update automatically. Fortunately, both of these issues have workarounds<br></p>

<hr />

<h2 id="importing-google-calendars">Importing Google Calendars</h2>

<p>Nextcloud needs a <code>.ics</code> or <code>.ical</code> file. To get a public Google calendar&rsquo;s <code>.ics</code> location (as of 5/8/20), you need to get the <code>src</code> or <code>cid</code> of the Google calendar. All Google calendars have this in the URL of the calendar.</p>

<p>For example, for embedded calendars (in this example the <a href="https://codeforces.com/calendar">Codeforces calendar</a>) you can find the <code>cid</code> by clicking on the plus button in the bottom right corner which will open the following URL:</p>

<pre><code class="language-ini">https://calendar.google.com/calendar/render?cid=k23j233gtcvau7a8ulk2p360m4%40group.calendar.google.com
</code></pre>

<p>Alternatively, you can get also use inspect element which will yield the following:</p>

<pre><code class="language-ini">https://calendar.google.com/calendar/embed?src=k23j233gtcvau7a8ulk2p360m4@group.calendar.google.com&amp;amp;ctz=America/Chicago&amp;amp;hl=en&amp;amp;wkst=1
</code></pre>

<p>Then take everything <strong>after</strong> <code>src=</code>, <code>cid=</code>, or <code>/ical/</code> and up to <code>&amp;amp</code>. Add it to the following:</p>

<pre><code class="language-ini">https://calendar.google.com/calendar/ical/[add here!]/public/basic.ics
</code></pre>

<p>e.g., using the Codeforces calendar:</p>

<pre><code class="language-ini">https://calendar.google.com/calendar/ical/k23j233gtcvau7a8ulk2p360m4@group.calendar.google.com/public/basic.ics
</code></pre>

<p>You can then use that URL to as the external URL in the Nextcloud Calendar app.</p>

<hr />

<h2 id="automatically-updating-external-calendars">Automatically Updating External Calendars</h2>

<p>Create a cron job: <code>sudo crontab -e</code><br>
Then, add the following to the bottom of the file:</p>

<pre><code class="language-php">0 0 * * * su -m www-data -c &quot;php -f /var/www/html/cron.php&quot;
</code></pre>

<p>This will result at 0 hours and 0 minutes every day cron being ran, which should update the calendars.</p>

      </article>

      
      <span class="f6 gray mv3" title="Lastmod: May 8, 2020. Published at: 2020-05-08.">
        
      </span>

      

  </section>

  <footer>
	<div>
		<p class="f6 gray mt6 lh-copy">
			---<br>
			BTC / <a href="btc:15adHcuUPLHzVmUqKqgeLfLzvtfD5r7WJ1">15adHcuUPLHzVmUqKqgeLfLzvtfD5r7WJ1</a><br>
			ETH / <a href="eth:0x7aB5aF122F0f09e9cb7d141ba04b1ce14F18D3bA">0x7aB5aF122F0f09e9cb7d141ba04b1ce14F18D3bA</a><br>
			Â© <script>
				document.write(new Date().getFullYear())
			</script> - Max Vogel<br>

			<a href="/posts/nextcloud-importing-google-calendars-automating-external-cals/" rel="feed" type="application/rss+xml" title="welcome!">RSS Feed</a>
		</p>
	</div>
 </footer>

<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.0.2/highlight.min.js"></script>

<script>
  hljs.initHighlightingOnLoad();
</script>

  </body>
</html>
